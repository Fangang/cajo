<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_11) on Tue Sep 28 23:14:05 AKDT 2010 -->
<TITLE>
Multicast (The cajo project)
</TITLE>

<META NAME="date" CONTENT="2010-09-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Multicast (The cajo project)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../gnu/cajo/utils/MonitorItem.html" title="class in gnu.cajo.utils"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../gnu/cajo/utils/ProxyLoader.html" title="class in gnu.cajo.utils"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?gnu/cajo/utils/Multicast.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Multicast.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
gnu.cajo.utils</FONT>
<BR>
Class Multicast</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>gnu.cajo.utils.Multicast</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public final class <B>Multicast</B><DT>extends java.lang.Object<DT>implements java.lang.Runnable</DL>
</PRE>

<P>
This class can listen for UDP multicasts over the network, as well
 as to send out UDP announcements.  The mechanism is <i>rigged</i> to send a
 reference to a remote object as a zipped MarshalledObject (zedmob).  It also
 allows a listening object to receive announced object referencess via a
 callback mechanism. A single VM can use as many Multicast objects as it
 wishes.
 <p><i>Note:</i> this class requires that the network routers be configured
 to pass IP multicast packets, at least for the multicast address used.  If
 not, the packets will will only exist within the subnet of origination.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0, 01-Nov-99 Initial release</DD>
<DT><B>Author:</B></DT>
  <DD>John Catherino</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#address">address</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to the address on which this object is operating.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.net.InetAddress</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#host">host</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The network interface on which this multicast object is listening</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.net.InetAddress</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#iaddr">iaddr</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to the address of the calling VM, when the object is
 listening.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../gnu/cajo/invoke/RemoteInvoke.html" title="interface in gnu.cajo.invoke">RemoteInvoke</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#item">item</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to a received remote object reference, when the object is
 listening.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#port">port</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A reference to the port on which this object is operating.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#Multicast()">Multicast</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The default constructor sets the internal fields to default values which
 should be sufficient for most purposes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#Multicast(java.lang.String, int)">Multicast</A></B>(java.lang.String&nbsp;address,
          int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This constructor allows creation of Multicast objects on any
 appropriate multicast address, and port number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#Multicast(java.lang.String, java.lang.String, int)">Multicast</A></B>(java.lang.String&nbsp;host,
          java.lang.String&nbsp;address,
          int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The full constructor allows creation of Multicast objects on any
 appropriate address, and port number.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#announce(java.lang.Object, int)">announce</A></B>(java.lang.Object&nbsp;item,
         int&nbsp;ttl)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to make UDP announcements on the network.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#announce(java.lang.Object, int, java.lang.Object)">announce</A></B>(java.lang.Object&nbsp;item,
         int&nbsp;ttl,
         java.lang.Object&nbsp;proxy)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to make UDP announcements on the network.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#listen(java.lang.Object)">listen</A></B>(java.lang.Object&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method starts a thead to listen on the construction <A HREF="../../../gnu/cajo/utils/Multicast.html#address"><CODE>address</CODE></A> and <A HREF="../../../gnu/cajo/utils/Multicast.html#port"><CODE>port</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The application method loads a zipped marshalled object (zedmob) to a
 proxy from a URL, or a file, and allows it run in this virtual machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../gnu/cajo/utils/Multicast.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The monitor thread, it listens for multicasts.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="host"><!-- --></A><H3>
host</H3>
<PRE>
public final java.net.InetAddress <B>host</B></PRE>
<DL>
<DD>The network interface on which this multicast object is listening
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="address"><!-- --></A><H3>
address</H3>
<PRE>
public final java.lang.String <B>address</B></PRE>
<DL>
<DD>A reference to the address on which this object is operating. It is
 referenced by the called listener, and is valid for the duration of the
 object's existence.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="port"><!-- --></A><H3>
port</H3>
<PRE>
public final int <B>port</B></PRE>
<DL>
<DD>A reference to the port on which this object is operating. It is
 referenced by the called listener, and is valid for the duration of the
 object's existence.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="iaddr"><!-- --></A><H3>
iaddr</H3>
<PRE>
public java.net.InetAddress <B>iaddr</B></PRE>
<DL>
<DD>A reference to the address of the calling VM, when the object is
 listening. It is referenced by the called listener, and should be
 considered valid for the duration of the invocation only.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="item"><!-- --></A><H3>
item</H3>
<PRE>
public <A HREF="../../../gnu/cajo/invoke/RemoteInvoke.html" title="interface in gnu.cajo.invoke">RemoteInvoke</A> <B>item</B></PRE>
<DL>
<DD>A reference to a received remote object reference, when the object is
 listening.  It is referenced by the called listener, and should be
 considered valid for the duration of the invocation only.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Multicast()"><!-- --></A><H3>
Multicast</H3>
<PRE>
public <B>Multicast</B>()
          throws java.net.UnknownHostException</PRE>
<DL>
<DD>The default constructor sets the internal fields to default values which
 should be sufficient for most purposes. The multicast socket address
 will be set to 244.0.23.162, which is officially registered with IANA
 for cajo object reference announcements.  The UDP port number on which
 this object will announce and listen is set to 1198, which is is also
 assigned by the IANA, for cajo object reference acquisition.  The object
 will listen on the same network interface being used for the server's RMI
 communication. It sends and listens on the machine's default network
 interface
<P>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.net.UnknownHostException</CODE> - If the default network interface
 could not be resolved, <i>not very likely</i>.</DL>
</DL>
<HR>

<A NAME="Multicast(java.lang.String, int)"><!-- --></A><H3>
Multicast</H3>
<PRE>
public <B>Multicast</B>(java.lang.String&nbsp;address,
                 int&nbsp;port)
          throws java.net.UnknownHostException</PRE>
<DL>
<DD>This constructor allows creation of Multicast objects on any
 appropriate multicast address, and port number. It uses the default
 network interface.
 being used for the server's RMI communication.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>address</CODE> - The multicast socket domain name, or address, on which
 this object will listen.  It can be any address in the range 224.0.0.1
 through 239.255.255.255.<DD><CODE>port</CODE> - The UDP port number on which this object will announce and
 listen, its value can be 0 - 65535. It is completely independent of all
 TCP port numbers. Application specific meaning could be assigned to port
 numbers, to identify broadcast types.
<DT><B>Throws:</B>
<DD><CODE>java.net.UnknownHostException</CODE> - If the specified host address
 could not be resolved, or is invalid.</DL>
</DL>
<HR>

<A NAME="Multicast(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
Multicast</H3>
<PRE>
public <B>Multicast</B>(java.lang.String&nbsp;host,
                 java.lang.String&nbsp;address,
                 int&nbsp;port)
          throws java.net.UnknownHostException</PRE>
<DL>
<DD>The full constructor allows creation of Multicast objects on any
 appropriate address, and port number. It uses the same network interface
 being used for the server's RMI communication.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>host</CODE> - The network interface on which to send or receive multicasts,
 specified when a machine has more than one, otherwise use "0.0.0.0" to
 send and receive on all of them<DD><CODE>address</CODE> - The multicast socket domain name, or address, on which
 this object will listen.  It can be any address in the range 224.0.0.1
 through 239.255.255.255.<DD><CODE>port</CODE> - The UDP port number on which this object will announce and
 listen, its value can be 0 - 65535. It is completely independent of all
 TCP port numbers. Application specific meaning could be assigned to port
 numbers, to identify broadcast types.
<DT><B>Throws:</B>
<DD><CODE>java.net.UnknownHostException</CODE> - If the specified host address
 could not be resolved, or is invalid.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="announce(java.lang.Object, int)"><!-- --></A><H3>
announce</H3>
<PRE>
public void <B>announce</B>(java.lang.Object&nbsp;item,
                     int&nbsp;ttl)
              throws java.io.IOException</PRE>
<DL>
<DD>This method is used to make UDP announcements on the network. The
 provided object will first have its startThread method invoked with a
 null argument, to signal it to start its main processing thread (if it
 has one). Next it will have its setProxy method invoked remote reference
 to itself, with which it can share with remote VMs, in an application
 specific manner (again if it has one).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - The object reference to be sent in the announcement
 packet, if it is not already remoted, it will be, automatically.<DD><CODE>ttl</CODE> - The time-to-live of the broadcast packet. This roughly
 specifies how many multicast enabled routers will pass this packet before
 automatically discarding it. For example 16, should cover a medium sized
 LAN. The maximum value is 255, which could theoretically cover the globe,
 that is, in 1999. A value of 1 confines the packet to its immediate
 subnet.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If a datagram socket could not be created, or the
 packet could not be sent.</DL>
</DD>
</DL>
<HR>

<A NAME="announce(java.lang.Object, int, java.lang.Object)"><!-- --></A><H3>
announce</H3>
<PRE>
public void <B>announce</B>(java.lang.Object&nbsp;item,
                     int&nbsp;ttl,
                     java.lang.Object&nbsp;proxy)
              throws java.io.IOException</PRE>
<DL>
<DD>This method is used to make UDP announcements on the network. The
 provided object will first have its startThread method invoked with a
 null argument, to signal it to start its main processing thread (if it
 has one). If the proxy has a setItem method, it will be called with a
 remote reference to the serving object. If the item implements a
 setProxy method it will be called with a MarshalledObject containing
 the proxy object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - The object reference to be sent in the announcement
 packet, if it is not already remoted, it will be, automatically.<DD><CODE>ttl</CODE> - The time-to-live of the broadcast packet. This roughly
 specifies how many multicast enabled routers will pass this packet before
 automatically discarding it. For example 16, should cover a medium sized
 LAN. The maximum value is 255, which could theoretically cover the globe,
 that is, in 1999. A value of 1 confines the packet to its immediate
 subnet.<DD><CODE>proxy</CODE> - The proxy object to be sent to requesting clients.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - If a datagram socket could not be created, or the
 packet could not be sent.</DL>
</DD>
</DL>
<HR>

<A NAME="listen(java.lang.Object)"><!-- --></A><H3>
listen</H3>
<PRE>
public void <B>listen</B>(java.lang.Object&nbsp;callback)</PRE>
<DL>
<DD>This method starts a thead to listen on the construction <A HREF="../../../gnu/cajo/utils/Multicast.html#address"><CODE>address</CODE></A> and <A HREF="../../../gnu/cajo/utils/Multicast.html#port"><CODE>port</CODE></A>. The listening object will be called on
 its public multicast method, with a reference to the calling Multicast
 object.  This is to allow the possibility for a single listener, to
 monitor multiple multicast objects. If a listener is used to monitor
 multiple multicast objects, it may be invoked reentrantly, otherwise it
 cannot. Listening will continue until the callback object's multicast
 method retruns a non-null value.  If it does, this method would havt to
 be called again to restart listening.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>callback</CODE> - An object, presumably local to this VM, which is to
 receive notifications about announcements.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If the object is actively listening, at
 the time of the invocation.</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>The monitor thread, it listens for multicasts.  It will sleep until
 the arrival of a message.  The packet will be reconstituted into a
 remote object reference, from its zedmob encapsulation.  The object
 reference will be saved into the public item member variable, also the
 calling VM's address will be extracted into the public address member
 variable. The listener's multicast method will be called next with a
 reference to this object. The multicast reference is used to access its
 public member variables; the remote announcer's reference and IP address,
 as well as the multicast address and port on which it was received.  The
 second two members are of interest in the case where the same object is
 listening on multiple multicast objects. If the method returns null, the
 multicast listening will continue, otherwise it will be stopped. Once
 stopped it can be restarted by the application as necessary, by invoking
 the <A HREF="../../../gnu/cajo/utils/Multicast.html#listen(java.lang.Object)"><CODE>listen</CODE></A> method again.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;args)
                 throws java.lang.Exception</PRE>
<DL>
<DD>The application method loads a zipped marshalled object (zedmob) to a
 proxy from a URL, or a file, and allows it run in this virtual machine.
 It will load an RMISecurityManager to protect the hosting
 machine from potentially or accidentally dangerous proxies, if not
 prohibited by the user at startup. It uses the <A HREF="../../../gnu/cajo/invoke/Remote.html#getItem(java.lang.String)"><CODE>getitem</CODE></A> method of the <A HREF="../../../gnu/cajo/invoke/Remote.html" title="class in gnu.cajo.invoke"><CODE>Remote</CODE></A> class to load the object. Following loading,
 it will also create an rmiregistry, and bind a remote reference to it
 under the name "main". This can allow remote clients to connect to, and
 interact with, the object. It will announce its startup on a default
 Multicast object, and then begin listening on it for further
 announcements, which will be  passed to the loaded proxy object. It can
 be configured using the following arguments, all arguments subsequent to
 the ones specified in the command line can be omitted:<br><ul>
 <li> args[0] The optional URL where to get the object: file:// http://
 ftp:// ..., /path/name <serialized>, path/name <class>, or alternatively;
 //[host][:port]/[name], where the object will be requested from a remote
 rmiregistry and the returned reference cast to the Lookup interface and
 invoked with a null reference, to return its proxy object.  If no
 arguments are provided, the URL will be assumed to be
 //localhost:1099/main.
 <li> args[1] The optional external client host name, if using NAT.
 <li> args[2] The optional external client port number, if using NAT.
 <li> args[3] The optional internal client host name, if multi home/NIC.
 <li> args[4] The optional internal client port number, if using NAT.
 <li> args[5] The optional URL where to get a proxy object: file://
 http:// ftp:// ..., //host:port/name (rmiregistry), /path/name
 (serialized), or path/name (class).  It will be passed into the loaded
 object as the sole argument to a setItem method.
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../gnu/cajo/utils/MonitorItem.html" title="class in gnu.cajo.utils"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../gnu/cajo/utils/ProxyLoader.html" title="class in gnu.cajo.utils"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?gnu/cajo/utils/Multicast.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Multicast.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
