<html>
   <head>
      <title>The CaJo Project</title>
      <meta name="Keywords" content="cajo, rmi, java, distributed computing">
      <meta name="Description" content="Cajo Distributed Application Framework">
      <meta name="Author" content="John Catherino">
   </head>
   <body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800000" alink="#FF0000">
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td><img src="images/topl.gif" width="17" height="17" border="0"></td>
            <td width="100%" bgcolor="#8C6239"><img src="images/dot.gif" width="1" height="1" border="0"></td>
            <td><img src="images/topr.gif" width="17" height="17" border="0"></td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="100%" height="15" bgcolor="#8C6239">
               <img src="images/dot.gif" width="1" height="1" border="0">
            </td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="120" valign="top">
               <table width="120" border="0" cellspacing="2" cellpadding="2" align="left">
<!-- begin table.html -->
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="index.html" title="cajo home page"><b>Welcome</b></a><br>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="tutorial.html" title="getting started"><b>Tutorial</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="theory.html" title="how it all works"><b>Theory</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="gotcha.html" title="important details"><b>Gotchas</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="faq.html" title="common questions"><b>FAQ</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="acknowlege.html" title="supporters of the marque"><b>Acknowlegements</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="license.html" title="what's the LGPL"><b>License</b></a>
                        </font>
                     </td>
                  </tr>
<!-- end table.html -->
               </table>
            </td>
            <td width="100%" valign="top">
               <table width="100%" cellpadding="5" border="0">
                  <tr>
                     <td>
                        <font face="Verdana, Helvetica" size="-1">
<!-- begin main.html -->
                           <font face="Verdana, Helvetica" size="3">
                              <b>Connecting to items independently of their IP address.</b>
                           </font><br><br>

                           The gnu.cajo.utils.Multicast class performs two complimentary functions.
                           First, it allows an item to "broadcast" a remote reference to itself over
                           the network. Second, it allows an item to listen for and capture these
                           reference broadcasts. Once captured, a remote item can contact the
                           broadcasting item, if it wishes. The functions operate entirely separately
                           of each other; meaning an item can broadcast without listening, and listen
                           without broadcasting, it can even do both.  If it is listening when it
                           broadcasts, it will even capture its own reference.<br><br>

                           The use of multicasting is application specific.  It can be used to join a
                           group of inter-operating items.  It can be used to announce a particular
                           event.  Essentially, it give items an opportunity to connect, without having
                           to know the IP address of the listening items beforehand.<br><br>

                           It must be noted, that in order for multicasting to work, the network
                           routers need to be configured to pass IP multicast packets.  If not, the
                           multicasting will work only within the subnet of origination.  There are two
                           parameters on which the items must agree in order to send and receive between
                           each other.  An IP address and port number define a specific "channel"
                           changing either of which is effectively an entirely different channel.  The
                           IP address is different from a traditional TCP address in that it doesn't
                           identify a machine, and socket, rather indicates the machine is a member of
                           a "group".<br><br>

                           An item can listen and broadcast on as many channels as it wants.
                           Implementations could range from performing all multicasts on a single
                           channel, to using separate channels for very specific meanings.  The
                           framework defines a default channel, which can be a good tool for generally
                           spontaneous networking.  Using a Star Trek metaphor, it could be considered
                           the 'hailing frequency' for finding new and unknown items.  An item
                           broadcasts by passing a remoted reference to itself, or some other item, to
                           the multicast's announce method.<br><br>

                           An item can register itself with a multicast object to listen for reference
                           broadcasts.  It does this by invoking multicast's listen method, passing in a
                           reference to itself.  When the multicast object receives a broadcast of a
                           remote item reference, it will invoke the listener with a string of
                           "multicast" and a reference to itself as an argument. Logically, a listening
                           object would either implement the following function:
                           <pre>   public Object multicast(Multicast m);</pre>
                           if it derived from BaseItem, otherwise it would have to test for the callback
                           in its Invoke method implementation. A multicast object has four public
                           members:<ul>
                           <li><code>iaddr   </code> The IP address of the broadcasting item.
                           <li><code>item    </code> The remote reference to the broadcasting item.
                           <li><code>address </code> The address on which this reference was received.
                           <li><code>port    </code> The port on which this reference was received.</ul>
                           The reason for calling the listener with a reference to a multicast object is
                           to allow a single listener to potentially listen on multiple channels.  If the
                           listener is listening to only one channel, there is no chance of its
                           multicast method being invoked reentrantly.  However, if a listener is
                           listening to more than one, the possibility definitely exists for reentrant
                           invocations.<br><br>

                           A listening multicast object checks the return value of its listener's
                           invocation.  If it receives a null, it will continue listening, if the method
                           returns any non-null value, it will stop listening.  To start the object
                           listening again, its listen method must be called, either with the same, or a
                           different listener. The multicast's listen method can only monitor using one
                           listener at a time.  This means that if the multicast is actively listening,
                           and its listen method is invoked again, it will throw an
                           IllegalArgumentException.<br><br>

                           <br>
                           <div align="center">
                              <font face="Verdana, Helvetica" size="-2">
                                 <hr width="80%">
                                 Musticasting allows items to enter and leave an item network dynamically.
                              </font>
                           </div>
<!-- end main.html -->
                        </font>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
   </body>
</html>
