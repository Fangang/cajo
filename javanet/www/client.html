<html>
   <head>
      <title>The CaJo Project</title>
      <meta name="Keywords" content="cajo, rmi, java, distributed computing, Transparent Distributed Computing">
      <meta name="Description" content="Cajo Distributed Application Framework">
      <meta name="Author" content="John Catherino">
   </head>
   <body>
      <div id="projecthome" class="app">
      <table width="100%" align="center">
         <tr>
            <td>

<!-- begin main.html -->

                        <center>
                           <a href="index.html" title="cajo home page"><b>Welcome</b></a> |
                           <a href="tutorial.html" title="getting started"><b>Tutorial</b></a> |
                           <a href="theory.html" title="how it all works"><b>Theory</b></a> | 
                           <a href="gotcha.html" title="important details"><b>Gotchas</b></a> |
                           <a href="faq.html" title="common questions"><b>FAQ</b></a> |
                           <a href="acknowlege.html" title="supporters of the marque"><b>Acknowledgments</b></a> |
                           <a href="license.html" title="what's the LGPL"><b>License</b></a> |
                           <a href="docs/overview-summary.html" title="package documentation"><b>Javadocs</b></a> <br><br>
                        </center>
                        <center>
                           <a href="item.html" title="Remote object"><b>Item</b></a> |
                           <a href="proxy.html" title="interface object"><b>Proxy</b></a> |
                           <a href="multicast.html" title="broadcast object"><b>Multicast</b></a> |
                           <b>Client</b> |
                           <a href="server.html" title="application server"><b>CodebaseServer</b></a> |
                           <a href="example.html" title="demo objects"><b>Example</b></a><br><br>
                        </center>

                           <font size="4">
                              <b>Inside the cajo graphical client application.</b>
                           </font><br><br>

                           The client class is a generic, general purpose graphical proxy host. It can
                           be used to display and interact with any graphical proxy, without need for
                           any customization. It can operate in two fundamentally different, but
                           functionally complementary ways; as an applet or as an application.<br><br>

                           As an applet, on loading by a Java enabled browser, it will connect back to
                           its host and request either the default proxy, or one specified in the
                           browser URL. Next it will initialize the proxy, by calling its init method,
                           providing a reference to the proxy remoted within the context of the plug-in's
                           VM.  Finally, the return of this proxy invocation, cannonically a descendant
                           of java.awt.Container, is added to the applet's panel. This allows a single
                           client to host an unlimited variety of graphical application proxies, using
                           only one applet class. Best yes, all of the code is provided by the server.

                           <h3>Applet Configuration</h3><br>

                           The server fully configures the applet using the parameters specified in
                           its tag.  The client can provide three of the optional configuration
                           parameters however via its URL when requesting the applet:<br><br>

                           <table>
                              <tr>
                                 <td><b>proxyName</b></td>
                                 <td>The name of the proxy to request from the server</td>
                              </tr>
                              <tr>
                                 <td><b>clientPort</b></td>
                                 <td>The port on which to communicate with the proxy</td>
                              </tr>
                              <tr>
                                 <td><b>localPort</b></td>
                                 <td>The client's internal port number, if translated</td>
                              </tr>
                           </table><br>

                           Normally the default settings will work fine, unless either the client wants
                           a specific port because it is behind a firewall, or wants a specific proxy.
                           The client can tell the server how to set these parameters, via the URL it
                           uses to request the applet. The URL uses the following syntax:

                           <pre><code>   http://host[:port]/[clientPort][:localPort][-proxyName]</code></pre>

                           The parameters in brackets can be selectively omitted, but the order of
                           arguments is required. Unspecified, the port value will be 80, the
                           clientPort 0 = anonymous (chosen form those free at startup), localPort will
                           be same as clientPort, and proxyName will be "main".<br><br>

                           <b>*<u>New feature</u>:</b> you can now web start the client application!
                           Simply append an exclamation point (!) to the end of the URL!  It's very
                           cool, try it! I call it; <i>starting the application with a bang!</i>

                           <h3>Application configuration</h3><br>

                           The class can also operate as an application. This is very useful for testing
                           and development purposes. It is also the fastest and most efficient means to
                           host a remote graphical proxy. It connects to a remote item, requests its
                           proxy, initializes it in the identical manner as the applet does, and if the
                           initialization returns a Component (or a JComponent), it will create a frame
                           (or a JFrame) on the client machine, displaying the result.<br><br>

                           The application can take up to five optional parameters.  They are in order,
                           from  most often changed, to least often, because to change an option, all of
                           the  previous options must also be specified; i.e. both order and precedence
                           count.<br><br>

                           Here are the options:
                           <ul>
                              <li> The URL where to load the intial proxy item
                              <li> The client's external port number, if it's behind a firewall
                              <li> The client's external host name, if it's using NAT
                              <li> The client's internal port number, if it's using translation
                              <li> The client's internal host name, if it has multiple interfaces
                           </ul>
                           The first option has six possibilities to load a proxy:
                           <ul>
                              <li> http:// to load it from a web server
                              <li> ftp:// to load it from an ftp server
                              <li> file:// to load it from the local disc
                              <li> path/name to instantiate it from a local class file
                              <li> /path/name to load it as a serialized proxy from disc
                              <li> //host[:port]/[name] to load it from an rmiregistry
                           </ul>

                           The <i>most common</i> client startup invocation looks something like this:

                           <pre><code>   java -jar client.jar //someHost/</code></pre>

                           This will connect from yourHost, to someHost, and get the item "main", using
                           any available port, not currently in use.

                           <h3>Important Details</h3><br>

                           This client, when run as an application, is excellent for testing and
                           development purposes in a trusted enviornment. To make its use for
                           development purposes simpler, the client application employs a
                           <a href=docs/gnu/cajo/invoke/NoSecurityManager.html>NoSecurityManager</a>.
                           As its name implies, this allows any loaded proxy to do anything it wants, on
                           the host's physical machine. Under some circumstances granting proxy
                           items full permissions may be <i>exactly</i> what is needed; on kiosks, or
                           thin client machines, on a protected newtork for example.  It has a
                           convenience it that it allows the client to run simply as a single jar
                           file, no security policy file is even needed.<br><br>

                           However, to protect the host in untrusted environments, it is
                           <u>critical</u> to start this application with a proper security manager
                           installed. This would require an invocation such as the following:

                           <pre><code>   java -jar -Djava.security.manager -Djava.security.policy=someURL client.jar ...</b></pre></code>

                           The policy file referenced by the URL (or simply [path/]filename) would
                           clearly define what permissions the downloaded proxies would have.<br><br>

                           For example; the following policy file is highly restrictive, but suitable
                           for most proxies:<code><pre>
grant {
   permission java.net.SocketPermission "*:1024-", "accept;
   permission java.net.SocketPermission "*", connect;
};</code></pre>
                           This only allows loaded proxies to create server sockets on any unused
                           port over 1023, and connect to any server on any port.  It's a little
                           more generous than an Applet sandbox, but still very safe for untrusted
                           code. <i>Note:</i> be very sure to use the first -D argument, you don't
                           want to make the same
                           <a href=http://developer.java.sun.com/developer/bugParade/bugs/4915879.html target=_blank>
                           mistake</a> I did. (Essentially, omission of the first argument, completely
                           negates the second.)<br><br>

                           <i>Note:</i> when web started, the client requires no policy file, as it runs
                           in an Applet sandbox, meaning is has no access to the hosting machine's hard
                           disc, and can only communicate back to the host from which it was sent.

                           <h3>Conclusion</h3><br>

                           The client application runs quite nicely on small Java capable
                           <a href=http://www.sharp-usa.com/products/ModelLanding/0,1058,1016,00.html target=_blank>PDAs</a>.
                           With integrated wireless networking, these make excellent control devices.
                           As their processing and display capability continue to improve, their value
                           as user interface hosts to a distributed computing collective become even
                           more attractive. Perhaps one day soon they may become the <i>primary</i>
                           tool to interface to computer networks. The best part is that for now you
                           can very accurately model, and develop for, these future devices using standard
                           desktop and laptop computers.<br><br>

                           <div align="center">
                              <font size="-2">
                                 <hr width="80%">
                                 Client, a useful utility in its own right, especially handy during development.
                              </font>
                           </div>

<!-- end main.html -->

            </td>
         </tr>
      </table>
   </body>
</html>
