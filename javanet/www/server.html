<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
   <title>The cajo project</title>
   <meta name="Keywords" content="cajo, rmi, java, distributed computing,
      Transparent Distributed Computing, network computing, cajo project,
      cajo framework, wwvm, John Catherino">
   <meta name="Description" content="Cajo Distributed Application Framework">
   <meta name="Author" content="John Catherino">
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <link href="ventro/css.css" rel="stylesheet" type="text/css">
</head>

<body>

<table width="98%" border="0" cellpadding="0" cellspacing="0">
   <tr>
      <table width="100%" height="67"  border="0" cellpadding="4" cellspacing="0">
         <tr>
            <td background="ventro/vert_logobarbg.gif">
               <table width="100%" height="47"  border="0" cellpadding="4" cellspacing="0">
                  <tr><br>
                     <td width="85" valign="bottom">
                        <div align="right">
                           <img src="ventro/cajologo.gif" alt="the cajo project"
                              title="cajo: free dynamic transparent distributed computing">
                           <img src="ventro/blank.gif" width="6" height="8">
                        </div>
                     </td>
                     <td width="10"><img src="ventro/seperatorline.gif" width="1" height="38"></td>
                     <td style="vertical-align:middle">
                        <span class="style8">
                           <font size="+1">
                              <b>Free, simple, powerful: Transparent Distributed Computing</b>
                           </font>
                        </span>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
      <table border="0" cellspacing="0" cellpadding="4">
         <tr>
            <td height="331" valign="top" bgcolor="#FFFFFF">
               <td width="100%" valign="top" bgcolor="#FFFFFF">
                  <table width="100%" border="0" cellpadding="4" cellspacing="0" bgcolor="#FFFFFF">
                     <tr>
                        <td>
                           <table width="100%" height="35" border="0" cellpadding="0" cellspacing="0">
                              <tr>
                                 <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
                                 <td width="100%" background="ventro/bar_bg.gif">
                                    <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
                                       <tr>
                                          <td style="vertical-align:middle">
                                             <span class="style8 style12">
<!-- main page title bar -->                    <div align="left">Supporting cajo proxy objects</div>
                                             </span>
                                          </td>
                                       </tr>
                                    </table>
                                 </td>
                                 <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td>
                              </tr>
                           </table>
                           <table width="95%" border="0" cellpadding="9" cellspacing="0">
                              <tr>
                                 <td valign="top">
<!-- title bar section -->         <span class="spacing style4 style7 style9">
                                      The <a href=docs/gnu/cajo/utils/CodebaseServer.html>
                                      CodebaseServer</a> could be considered the world's smallest
                                      <i>application server.</i> It is completely customised to support the cajo
                                      framework. The entire server consists of a single class, yet it serves
                                      <i>(pun intended)</i> two major roles:
                                      <ul>
                                      <li> First, it provides codebase service; to allow client VMs to run remote
                                      objects locally, for which they do not have the local class files.
                                      <li> Secondly, it provides client service; to allow transparent distribution
                                      of User Interfaces, as either Applets, or as WebStart applications.
                                      </ul>
                                    </span>
                                 </td>
                              </tr>
                           </table></td>
                        </tr>
                     </table>


<!-- begin regular section -->
   <table width="98%" height="35" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
         <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
         <td width="98%" valign="top" background="ventro/bar_bg.gif">
            <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
               <tr>
                  <td style="vertical-align:middle">
                     <span class="style8"><b>Codebase Service</b></span>
                  </td>
               </tr>
            </table>
         </td>
         <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td>
      </tr>
   </table>
   <table width="98%" height="96" border="0" align="center" cellpadding="9" cellspacing="0">
      <tr>
         <td valign="top">
            <span class="spacing style4 style7 style9">
               When a proxy item is sent to another VM, it arrives solely as a serialised
               collection of many co&ouml;perating objects, but with no code (i.e. class files).
               The receiving VM will first check its local codebase to find class definitions
               for these objects, if it does, it will use them. However, as is often the
               case with proxies, it will not have the application specific classes
               needed by the received proxy. When this happens, the RMI framework steps in;
               it will call back to the item server, and request the class definitions. The
               primary use of the CodebaseServer is to manage this transfer, and it does
               this automatically, and transparently. The necessary classes are provided to
               the remote host, loaded into its runtime, and the proxy is free to operate
               locally, in the context of that VM.<br><br>

               For efficiency, all proxy-specific class files, and other files needed by the
               proxy, such as images or localised string tables, are typically packaged into
               a single jar file. The supplied <a href=example.html>example</a> illustrates
               how to do this very easily.<br><br>

               You will need a codebase server any time you are sending proxies to another
               remote machine that will not have all of the class files needed by the
               proxy in its local classpath. You will also need one if you are sending
               application specific objects as arguments, or method results, to a remote
               machine.
            </span>
         </td>
      </tr>
   </table>
<!-- end regular section -->

<!-- begin regular section -->
   <table width="98%" height="35" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
         <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
         <td width="98%" valign="top" background="ventro/bar_bg.gif">
            <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
               <tr>
                  <td style="vertical-align:middle">
                     <span class="style8"><b>Client Service</b></span>
                  </td>
               </tr>
            </table>
         </td>
         <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td>
      </tr>
   </table>
   <table width="98%" height="96" border="0" align="center" cellpadding="9" cellspacing="0">
      <tr>
         <td valign="top">
            <span class="spacing style4 style7 style9">
               If the <a href=tutorial.html>tutorial</a> conclusion seemed almost magical;
               this is due to the functionality of the codebase server. The previous
               discussion on codebase service could be provided by <u>any</u> general
               purpose webserver. What makes an application server special, is knowing what
               to do with all that <i>"extra-stuff"</i> appended to the end of the URL.<br><br>

               As explained previously, the CodebaseServer first checks if a jar file is
               being requested, if so, it fulfills the request. However, when the request
               is <i>not</i> for a jar file; here is where things get interesting.<br><br>

               The CodebaseServer will parse the URL to extract additional meaning from the
               request. Based on its content, one of three things will happen: First, and
               trivially, it may not understand the request, in this case, the request is
               rejected. However, if the request is understood; now one of two things will
               happen:<ul>
               <li> If no exclamation point is terminates the request, the CodebaseServer will
               interpret this as a request for a GUI proxy to be run as an applet, inside
               the requesting browser.
               <li> If an exclamation point <i>is</i> terminating the URL, this will be
               interpreted as a request for the GUI proxy to be run as a WebStart
               application, on the desktop of the requesting host.</ul>

               In either case, the remaining URL components are used to configure the client
               for operation within the requester's VM, as explained in the client topic.<br><br>

               For the curious; the client GUI loading process executes as follows:<ol>

                  <li>The host requests the client
                  <li>The CodebaseServer returns instructions on how to do this
                  <li>The host requests the client codebase
                  <li>The CodebaseServer provides this
                  <li>The host asks the server item for its graphical proxy
                  <li>The server item provides this
                  <li>The host requests the codebase needed by the proxy
                  <li>The CodebaseServer provides this

               </ol>An elabourate process, to be sure, but all handled transparently behind
               the scenes. The source is all there for the curious, but truth be told; just
               like the Java Runtime Environment source, you do not need to know it, in
               order to use it effectively. Note: this was only a high-level overview, the
               <i>mind-numbing</i> technical details were intentionally omitted. If this
               already has your head spinning, don't worry about it; <i>especially</i> don't
               worry about the next section, simply go on to the conclusion.
            </span>
         </td>
      </tr>
   </table>
<!-- end regular section -->

<!-- begin regular section -->
   <table width="98%" height="35" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
         <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
         <td width="98%" valign="top" background="ventro/bar_bg.gif">
            <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
               <tr>
                  <td style="vertical-align:middle">
                     <span class="style8"><b>CodebaseServer Sharing</b></span>
                  </td>
               </tr>
            </table>
         </td>
         <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td>
      </tr>
   </table>
   <table width="98%" border="0" align="center" cellpadding="9" cellspacing="0">
      <tr>
         <td valign="top">
            <span class="spacing style4 style7 style9">
               For those out there who want to squeeze out every last gramme of
               performance, you probably already thought of this, but here it is anyway.
               Since the CodebaseServer fundamentally performs the functionality of a
               generic http server, if you do not require the client application service
               functionality, you can share another item's CodebaseServer (or generic
               http/ftp server). Simply place your proxy jar file in the working directory
               of another codebase server, and use the fully-qualified constructor of
               <a href=docs/gnu/cajo/utils/ItemServer.html#bind(java.lang.Object,%20java.lang.String)>
               ItemServer</a> to tell clients where to find the files. <i><u>Note</u>:</i>
               The CodebaseServer need not even be in the same physical box as the server
               items. <i>(Just ponder the implications of that :-)</i>
            </span>
         </td>
      </tr>
   </table>
<!-- end regular section -->

<!-- begin regular section -->
   <table width="98%" height="35" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
         <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
         <td width="98%" valign="top" background="ventro/bar_bg.gif">
            <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
               <tr><a id="Conclusion"></a>
                  <td style="vertical-align:middle">
                     <span class="style8"><b>Conclusion</b></span>
                  </td>
               </tr>
            </table>
         </td>
         <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td>
      </tr>
   </table>
   <table width="98%" border="0" align="center" cellpadding="9" cellspacing="0">
      <tr>
         <td valign="top">
            <span class="spacing style4 style7 style9">
               The CodebaseServer handles the low-level protocol details to make object
               transfer between virtual machines, transparent. It can allow the generic
               client object the ablity to display <i>any</i> graphical proxy. Its purpose
               is to bring the power of proxy items, and remote graphical proxy viewing,
               to everybody; not just the <i>'Rocket-Scientists.'</i><br><br>
            </span>
         </td>
      </tr>
   </table>
<!-- end regular section -->

<!-- footer: -->
   <table width="95%" height="56" border="0" align="center" cellpadding="9" cellspacing="0">
      <tr>
         <td valign="top">
            <div align="center">
               <hr width=90%">
               <span class="spacing style4 style7 style9">
                  A cajo framework-specific application server, to make proxy service simple.
               </span>
            </div>
         </td>
      </tr>
   </table>

   <table width="98%" height="35" border="0" align="center" cellpadding="0" cellspacing="0">
      <tr>
         <td width="2%" background="ventro/bar_bg.gif"><img src="ventro/arrowed.gif" width="30" height="35"></td>
         <td width="95%" valign="top" background="ventro/bar_bg.gif">
            <table width="100%" height="31" border="0" cellpadding="0" cellspacing="0">
               <tr>
                  <td style="vertical-align:middle"><span class="style11">&copy; 2004 John Catherino, <a href=license.html>GNU FDL</a></span></td>
                  <td width="53%"><div align="right"></div></td></tr></table></td>
                  <td width="3%"><img src="ventro/bar_Right.gif" width="10" height="35"></td></tr></table></td>
               </tr>
            </table>
         </td>
      </tr>
   </table>

</body>
</html>
