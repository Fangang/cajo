<html>
   <head>
      <title>The CaJo Project</title>
      <meta name="Keywords" content="cajo, rmi, java, distributed computing">
      <meta name="Description" content="Cajo Distributed Application Framework">
      <meta name="Author" content="John Catherino">
   </head>
   <body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800000" alink="#FF0000">
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td><img src="images/topl.gif" width="17" height="17" border="0"></td>
            <td width="100%" bgcolor="#8C6239"><img src="images/dot.gif" width="1" height="1" border="0"></td>
            <td><img src="images/topr.gif" width="17" height="17" border="0"></td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="100%" height="15" bgcolor="#8C6239">
               <img src="images/dot.gif" width="1" height="1" border="0">
            </td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="120" valign="top">
               <table width="120" border="0" cellspacing="2" cellpadding="2" align="left">
<!-- begin table.html -->
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="index.html" title="cajo home page"><b>Welcome</b></a><br>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="tutorial.html" title="getting started"><b>Tutorial</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="theory.html" title="how it all works"><b>Theory</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="gotcha.html" title="important details"><b>Gotchas</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="faq.html" title="common questions"><b>FAQ</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="acknowlege.html" title="supporters of the marque"><b>Acknowlegements</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="license.html" title="what's the LGPL"><b>License</b></a>
                        </font>
                     </td>
                  </tr>
<!-- end table.html -->
               </table>
            </td>
            <td width="100%" valign="top">
               <table width="100%" cellpadding="5" border="0">
                  <tr>
                     <td>
                        <font face="Verdana, Helvetica" size="-1">
<!-- begin main.html -->
                           <font face="Verdana, Helvetica" size="3">
                              <b>Inside the cajo framework.</b><br><br>
                           </font>

                           Every inter-operating object in the cajo framework is called an <b><code>item
                           </code></b>.  An item can exist within a Virtual Machine, and call other
                           local items.  An item can also be called by remote items in other virtual, or
                           even physical machines. An item can also be a <b><code>proxy</code></b>,
                           meaning an item sent from one machine (virtual or physical) to execute in
                           the runtime of another.  This means that an application can be originally
                           designed with all its objects local, and evolve until each object is in a
                           separate virtual or physical machine, with no changes to the source code.<br><br>

                           In RMI, each remote object must have a "stub" compiled for it.  This becomes
                           burdensome if the interaction between objects becomes highly diverse, and is
                           impossible when the method signatures vary at runtime. To address this issue,
                           the cajo framework defines just one functional interface.  Every cajo item
                           inherits the Invoke interface:
                              <b><pre>   Object invoke(String method, Object args);</pre></b>
                           The interface defines a single method call, whereby a method name is provided,
                           given an argument, and returns an object.  This signature differs from
                           regular a Java method invocation in two distinct ways.  First the return
                           type must be of type Object, or a derived type.  This means that an
                           invocation cannot return a primitive type, such as int or char.  Second, the
                           argument type must also be of type Object, meaning it too cannot be a
                           primitive type.  However, both the argument and return can be of type
                           Object[], indicating more than one object is being transferred, or it can be
                           null, indicating no object transfer.<br><br>

                           Aside from these minor differences, object interaction can behave identically.
                           Often a small wrapper is placed around an item reference to give it the
                           identical semantics, and type-safety, of a local method invocation. Consider
                           these examples:<code><pre>
   void baker() { someItem.invoke("baker", null); }

   Able baker(Charlie c) {
      return (Able)someItem.invoke("baker", c);
   }

   Able[] baker(Charlie c, Delta d) {
      return (Able[])someItem.invoke("baker", new Object[] { c, d });
   } </pre></code>
                           Now, whether an object is invoking a method directly, through the invoke
                           interface to a local or remote object, or even to a proxy, it is completely
                           abstracted, and ultimately irrelevant to the calling object.<br><br>

                           The invocation of a method on a remote item, or proxy, is accomplished using
                           the Remote class.  It makes use of a Java feature known as reflection.  The
                           Remote class takes any Object, and places a remotely invokable wrapper around
                           it.  When items execute the invoke interface on a Remote object, it uses
                           reflection to lookup the method on its internal object, matching both the
                           name and the argument types. When it is found, it executes that method and
                           returns the result.  Naturally, if no matching method can be found on the
                           internal object, a NoSuchMethodException is thrown.<br><br>

                           <div align="center">
                              <font face="Verdana, Helvetica" size="-2">
                                 <hr width="80%">
                                 All objects are local. Whether virtual, or physical; machine barriers are an illusion.
                              </font>
                           </div>
<!-- end main.html -->
                        </font>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
   </body>
</html>
