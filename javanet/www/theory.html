<html>
   <head>
      <title>The CaJo Project</title>
      <meta name="Keywords" content="cajo, rmi, java, distributed computing">
      <meta name="Description" content="Cajo Distributed Application Framework">
      <meta name="Author" content="John Catherino">
   </head>
   <body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800000" alink="#FF0000">
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td><img src="images/topl.gif" width="17" height="17" border="0"></td>
            <td width="100%" bgcolor="#8C6239"><img src="images/dot.gif" width="1" height="1" border="0"></td>
            <td><img src="images/topr.gif" width="17" height="17" border="0"></td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="100%" height="15" bgcolor="#8C6239">
               <img src="images/dot.gif" width="1" height="1" border="0">
            </td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="120" valign="top">
               <table width="120" border="0" cellspacing="2" cellpadding="2" align="left">
<!-- begin table.html -->
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="index.html" title="cajo home page"><b>Welcome</b></a><br>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="tutorial.html" title="getting started"><b>Tutorial</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="theory.html" title="how it all works"><b>Theory</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="gotcha.html" title="important details"><b>Gotchas</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="faq.html" title="common questions"><b>FAQ</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="acknowlege.html" title="supporters of the marque"><b>Acknowlegements</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="license.html" title="what's the LGPL"><b>License</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="docs/overview-summary.html" title="package documentation"><b>Javadocs</b></a>
                        </font>
                     </td>
                  </tr>
<!-- end table.html -->
               </table>
            </td>
            <td width="100%" valign="top">
               <table width="100%" cellpadding="5" border="0">
                  <tr>
                     <td>
                        <font face="Verdana, Helvetica" size="-1">
<!-- begin main.html -->
                           <font face="Verdana, Helvetica" size="4">
                              <b>Inside the cajo framework.</b><br><br>
                           </font>

                           <b>Introduction</b><br>
                           Every remotely accessible object in the framework is known as an
                           <a href=item.html>Item</a>. An application can host one or more items
                           within its virtual machine. Items can call other items (local or remote)
                           and an item can also be called by other items (local or remote). A special
                           type of item is known as a <a href=proxy.html>Proxy</a>. Proxies are items
                           sent from one virtual machine, to execute in the context of another. Proxies
                           can also be called by other items, or proxies, either local, or remote.<br><br>

                           In the standard RMI framework, each remote object must have a unique <i>"stub"</i>
                           compiled for it. This can quickly become burdensome, especially if the
                           interaction between objects becomes highly diverse; it is completely
                           impossible when method signatures are unknown at compile time. To address
                           these problems, the framework defines only one functional interface;
                           every item inherits the <a href=docs/gnu/cajo/invoke/Invoke.html>Invoke</a>
                           interface. It defines a single method to represent the method name, the
                           arguments provided to it and the returned data, i.e.:

                              <pre><tt>   Object invoke(String method, Object args);</tt></pre>

                           </a><i>Note:</i> this mechanism operates slightly differently
                           from standard Java method invocation in two distinct ways.  First the return
                           type must be of type Object or a derived type.  This means an invocation
                           cannot return a primitive type, such as int or char. Second, the argument
                           type must also be of type Object, meaning it too cannot be a primitive type.
                           However, just as with local invocations, both the argument and the return,
                           can be of type Object[] indicating more than one object is being transferred,
                           they can even be null, indicating no object transfer.<br><br>

                           <b>Remoting Items</b><br>
                           The invocation of a method on a remote object using the Invoke interface is
                           made possible using the
                           <a href=docs/gnu/cajo/invoke/Remote.html>Remote</a> class.  It utilizes
                           a Java feature known as <i>reflection</i>.  The Remote class can take
                           <i>any</i> object, and place a remotely invokable wrapper around it. When
                           other objects execute its invoke method, the wrapper uses reflection to
                           find the method on its internal object, matching both the name and the
                           argument types. If it is found, it executes that method, and returns the
                           result, if any.  If no matching method can be found on the internal object,
                           a <code>NoSuchMethodException</code> is thrown. This technique effectively
                           makes all public methods of the internal object remotely callable. Naturally,
                           excepting those using primitive types.<br><br>

                           <b>Contacting Items</b><br>
                           Items, i.e. objects wrapped by a Remote object, are made remotely
                           accessible in two distinct ways. First, it is generally useful to bind the
                           object with the <a href=docs/gnu/cajo/utils/ItemServer.html>ItemServer</a>
                           class. ItemServer will create an rmiregistry and bind the object under the
                           name provided. Other clients can now contact this registry, and obtain a
                           remote reference to the item.  The rmiregistry, and the item communication
                           use the same TCP port, therefore all that is required for a client to obtain
                           a reference to the item is the host name and port of the item server, and
                           the name under which the item is bound in the rmiregistry. Cannonically,
                           the default item for any server is bound under the name "<i>main</i>".<br><br>

                           The second method to obtain a reference to a remote item is done using the
                           <a href=docs/gnu/cajo/utils/Multicast.html>Multicast</a> class. Unlike the
                           previous method which uses TCP to obtain the reference, this technique uses
                           UDP.  Instead of needing to know the server's TCP/IP address and port number,
                           the client needs to know the server's UDP/IP address and port number.  The
                           advantage is that the server can pick its UDP address, and it is independent
                           of its TCP address.  A server broadcasts a remote reference to an item by
                           calling the announce method of ItemServer.  This will send the reference to
                           all clients listening on the address/port pair.  Items listen for these
                           announcements using the listen method of Multicast.  This allows items to
                           dynamically link to form item networks of functionality.<br><br>

                           <b>Mobile Code</b><br>
                           An item can send mobile code, complex objects, and proxy items to clients
                           using the <a href=docs/gnu/cajo/utils/CodebaseServer.html>CodebaseServer</a>
                           class.  CodebaseServer will create a specialized http server on the specified
                           TCP port, and serve the specified jar file containing the class definitions
                           needed by the client, along with any other resources needed by proxy items.
                           These resource items are typically, images and string tables.  By default a
                           client will not accept mobile code. This is typically enabled by calling the
                           acceptProxies method of the ItemServer class.  This will install an
                           RMISecurityManager, to protect the client hardware and files, effectively
                           creating a applet-like sandbox around the incoming code.<br><br>

                           <div align="center">
                              <font face="Verdana, Helvetica" size="-2">
                                 <hr width="80%">
                                 All objects are local: machine boundaries, whether virtual or
                                 physical, are only conceptual.
                              </font>
                           </div>
<!-- end main.html -->
                        </font>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
   </body>
</html>
