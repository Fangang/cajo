<html>
   <head>
      <title>The CaJo Project</title>
      <meta name="Keywords" content="cajo, rmi, java, distributed computing">
      <meta name="Description" content="Cajo Distributed Application Framework">
      <meta name="Author" content="John Catherino">
   </head>
   <body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800000" alink="#FF0000">
<div id="projecthome" class="app">
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td><img src="images/topl.gif" width="17" height="17" border="0"></td>
            <td width="100%" bgcolor="#8C6239"><img src="images/dot.gif" width="1" height="1" border="0"></td>
            <td><img src="images/topr.gif" width="17" height="17" border="0"></td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="100%" height="15" bgcolor="#8C6239">
               <img src="images/dot.gif" width="1" height="1" border="0">
            </td>
         </tr>
      </table>
      <table width="100%" cellspacing="0" cellpadding="0" border="0">
         <tr>
            <td width="120" valign="top">
               <table width="120" border="0" cellspacing="2" cellpadding="2" align="left">
<!-- begin table.html -->
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="index.html" title="cajo home page"><b>Welcome</b></a><br>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="tutorial.html" title="getting started"><b>Tutorial</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="theory.html" title="how it all works"><b>Theory</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="gotcha.html" title="important details"><b>Gotchas</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="faq.html" title="common questions"><b>FAQ</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="acknowlege.html" title="supporters of the marque"><b>Acknowlegements</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="license.html" title="what's the LGPL"><b>License</b></a>
                        </font>
                     </td>
                  </tr>
                  <tr>
                     <td bgcolor="#C0C08D">
                        <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="-2">
                           <a href="docs/overview-summary.html" title="package documentation"><b>Javadocs</b></a>
                        </font>
                     </td>
                  </tr>
<!-- end table.html -->
               </table>
            </td>
            <td width="100%" valign="top">
               <table width="100%" cellpadding="5" border="0">
                  <tr>
                     <td>
                        <font face="Verdana, Helvetica" size="-1">
<!-- begin main.html -->
                           <font face="Verdana, Helvetica" size="4">
                              <b>Inside the cajo framework.</b><br>
                           </font>

                           <h3>Introduction:</h3><br>

                           Every remotely accessible object in the framework is known as an
                           <a href=item.html>Item</a>. An application can host one or more items
                           within its Virtual Machine. Items can call other items, and an item can
                           also be called by other items. A special type of item is known as a
                           <a href=proxy.html>Proxy</a>. Proxies are items sent from one virtual
                           machine, to execute in the context of another. Proxies can also call, or
                           be called, by other items and even by other proxies.<br><br>

                           In the standard RMI framework, each remote object must have a unique
                           <i>"stub"</i> compiled for it. This can quickly become burdensome,
                           especially if the interaction between objects becomes highly diverse; and is
                           completely impossible when method signatures are unknown at compile time. To
                           address these issues, the framework defines only one functional interface;
                           every item inherits the <a href=docs/gnu/cajo/invoke/Invoke.html>Invoke</a>
                           interface. It defines a single method, to represent any object method; it
                           accepts a method name, the arguments to be provided to it, and the data
                           to be returned; i.e.:

                           <pre>   Object invoke(String method, Object args);</pre>

                           </a><i>Note:</i> this mechanism operates slightly differently
                           from standard Java method invocation in two distinct ways.  First the
                           return type must be of type Object or a derived type.  This means an
                           invocation cannot return a primitive type, such as <tt>int</tt> or
                           <tt>char</tt>. Second, the argument type must also be of type Object,
                           meaning it too cannot be a primitive type. However, just as with local
                           invocations, both the argument and the return can be of type Object[]
                           indicating multiple objects are being transferred, or they can be null
                           indicating no object transfer.

                           <h3>Remoting Items:</h3><br>

                           The invocation of a method on a remote object using the Invoke interface is
                           made possible using the
                           <a href=docs/gnu/cajo/invoke/Remote.html>Remote</a> class.  It combines
                           Java RMI with another Java feature known as <i>reflection</i>.  The Remote
                           class can take <i>any</i> object, and place a remotely invokable wrapper
                           around it. When remote objects execute its invoke method, the wrapper uses
                           reflection to find the method on its internal object, matching both the
                           name and the argument types. If it is found, it executes that method, and
                           returns the result, if any.  If no matching method can be found on the
                           internal object, a <tt>NoSuchMethodException</tt> is thrown. This technique effectively
                           makes all public methods of the internal object remotely callable;
                           excepting those using primitive types as arguments or returns.

                           <h3>Contacting Items:</h3><br>

                           Items, i.e. objects wrapped by a Remote object, are made remotely
                           accessible in two distinct ways.<br><br>

                           First, it is generally useful to bind the item with the
                           <a href=docs/gnu/cajo/utils/ItemServer.html>ItemServer</a>
                           class. ItemServer will automatically create an rmiregistry and bind the item
                           under the name provided. Other clients can now contact the registry, and
                           obtain a remote reference to the item by name.  The rmiregistry, and the
                           item communication use the same TCP port, therefore all that is required for
                           a client to obtain a reference to the item is the host name and port of the
                           item server, and the name under which the item is bound in the rmiregistry.
                           Cannonically, the default item for any server is bound under the name
                           "<i>main</i>". Obtaining a reference to this type of <i>statically</i> bound
                           remote item is accomplished using the static
                           <a href=docs/gnu/cajo/invoke/Remote.html#getItem(java.lang.String)>getItem</a>
                           method of the Remote class.<br><br>

                           The second method to obtain a reference to a remote item is done using the
                           <a href=docs/gnu/cajo/utils/Multicast.html>Multicast</a> class. Unlike the
                           previous method which uses TCP/IP to obtain the reference, this technique
                           uses UDP/IP.  Instead of needing to know the server's TCP address and port
                           number, the client needs to know the UDP address and port number the server
                           will be using. The difference is that servers can pick their UDP addresses,
                           and they are independent of their TCP address. Also, a server can use multiple Multicast
                           objects, on multiple UDP addresses, if needed, and servers can even share the
                           same address. A server broadcasts a remote reference to an item by calling the
                           <a href=docs/gnu/cajo/utils/Multicast.html#announce(gnu.cajo.invoke.Remote,%20int)>announce</a>
                           method of ItemServer.  This will send the reference to all clients listening
                           on that UDP address/port pair. Items listen for these announcements using the
                           <a href=docs/gnu/cajo/utils/Multicast.html#listen(gnu.cajo.invoke.Invoke)>listen</a>
                           method of Multicast. This approach allows items to link <i>dynamically</i>,
                           to form item networks of functionality.

                           <h3>Mobile Code:</h3><br>

                           An item can send mobile code, i.e. proxy items and complex object arguments
                           to clients using the <a href=docs/gnu/cajo/utils/CodebaseServer.html>CodebaseServer</a>
                           class.  CodebaseServer will create a specialized http server on the designated
                           TCP port, and serve the specified jar file containing the class definitions
                           needed by the client, along with any other resources needed by the proxies.
                           The resource items are typically, images and string tables.  By default a
                           client <u>will not</u> accept mobile code. This is typically enabled by
                           calling the
                           <a href=docs/gnu/cajo/utils/ItemServer.html#acceptProxies()>acceptProxies</a>
                           method of the ItemServer class.  This will install an RMISecurityManager to
                           accept the code, and protect the client hardware and files, effectively
                           creating an applet-like sandbox around the incoming code.  Mobile code means
                           the client's VM is using objects from a codebase provided to it by the client,
                           over the network.<br><br>

                           <div align="center">
                              <font face="Verdana, Helvetica" size="-2">
                                 <hr width="80%">
                                 All objects are <u>local</u>: machine boundaries, whether virtual or
                                 physical, are merely conceptual.
                              </font>
                           </div>
<!-- end main.html -->
                        </font>
                     </td>
                  </tr>
               </table>
            </td>
         </tr>
      </table>
   </body>
</html>
